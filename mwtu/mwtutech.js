/* MWTU-MD V2*/

function _0x41c0(){const _0x1113a9=['scaleToFit','231633GcmcGs','pathname','36384GTXuap','dirname','MIME_JPEG','6CcTLgq','height','2080881OoHfpk','Error\x20generating\x20profile\x20picture\x20with\x20watermark:','28064xyeetn','readFile','2453LYPbxI','getBufferAsync','bitmap','url','14USGdXW','139834hmPFpW','./img/gift.png','614245WzSyfA','access','2005280KiYCri','8EsgOmz','getWidth','2mMPqwS','error','resolve','crop'];_0x41c0=function(){return _0x1113a9;};return _0x41c0();}const _0x1ca655=_0x7dcf;(function(_0x324d0e,_0x2dc213){const _0x12ccbc=_0x7dcf,_0x39df17=_0x324d0e();while(!![]){try{const _0x1233f5=-parseInt(_0x12ccbc(0x139))/0x1*(parseInt(_0x12ccbc(0x124))/0x2)+parseInt(_0x12ccbc(0x129))/0x3*(parseInt(_0x12ccbc(0x122))/0x4)+parseInt(_0x12ccbc(0x13b))/0x5*(-parseInt(_0x12ccbc(0x12e))/0x6)+parseInt(_0x12ccbc(0x138))/0x7*(parseInt(_0x12ccbc(0x132))/0x8)+-parseInt(_0x12ccbc(0x130))/0x9+-parseInt(_0x12ccbc(0x121))/0xa+parseInt(_0x12ccbc(0x134))/0xb*(parseInt(_0x12ccbc(0x12b))/0xc);if(_0x1233f5===_0x2dc213)break;else _0x39df17['push'](_0x39df17['shift']());}catch(_0x13de7c){_0x39df17['push'](_0x39df17['shift']());}}}(_0x41c0,0x22f32));import _0x395fed from'jimp';function _0x7dcf(_0x3b4469,_0x170808){const _0x41c07e=_0x41c0();return _0x7dcf=function(_0x7dcf20,_0x13be40){_0x7dcf20=_0x7dcf20-0x121;let _0x5001bf=_0x41c07e[_0x7dcf20];return _0x5001bf;},_0x7dcf(_0x3b4469,_0x170808);}import _0x852804 from'fs/promises';import _0x2a5f45 from'path';const __filename=new URL(import.meta[_0x1ca655(0x137)])[_0x1ca655(0x12a)],__dirname=_0x2a5f45[_0x1ca655(0x12c)](__filename),generateProfilePictureWithWatermark=async _0x558392=>{const _0x448d2a=_0x1ca655;try{const _0x263b3c=await _0x395fed['read'](_0x558392),_0x7036b1=_0x263b3c[_0x448d2a(0x123)](),_0x10ff07=_0x263b3c['getHeight'](),_0x447bd3=_0x263b3c[_0x448d2a(0x127)](0x0,0x0,_0x7036b1,_0x10ff07),_0x4ce2b7=_0x2a5f45[_0x448d2a(0x126)](__dirname,_0x448d2a(0x13a));try{await _0x852804[_0x448d2a(0x13c)](_0x4ce2b7);}catch(_0x446941){throw new Error('Watermark\x20file\x20not\x20found\x20at\x20'+_0x4ce2b7);}const _0x5cb452=await _0x852804[_0x448d2a(0x133)](_0x4ce2b7),_0xa4bd27=await _0x395fed['read'](_0x5cb452);_0xa4bd27[_0x448d2a(0x128)](0xc8,0xc8);const _0x178769=0xa,_0x453bb1=_0x447bd3[_0x448d2a(0x136)][_0x448d2a(0x12f)]-_0xa4bd27[_0x448d2a(0x136)][_0x448d2a(0x12f)]-0xa;_0x447bd3['composite'](_0xa4bd27,_0x178769,_0x453bb1);const _0x1893e0=await _0x447bd3[_0x448d2a(0x128)](0x2d0,0x2d0)[_0x448d2a(0x135)](_0x395fed[_0x448d2a(0x12d)]);return{'img':_0x1893e0,'preview':_0x1893e0};}catch(_0x442319){console[_0x448d2a(0x125)](_0x448d2a(0x131),_0x442319);throw _0x442319;}};export default generateProfilePictureWithWatermark;

/* MWTU-MD V2*/
